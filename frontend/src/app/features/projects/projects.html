<div id="header">
  <h2>Projects</h2>
  <button mat-button (click)="openDialog()">New project</button>
</div>

<!--
<div id="search-container">
  <input
    type="text"
    placeholder="Search"
    name="search"
    [(ngModel)]="searchData"
    (input)="searchProjects()"
  />
  @if (searchData) {
  <button matSuffix matIconButton aria-label="Clear" (click)="clearSearch()">
    <mat-icon>close</mat-icon>
  </button>
  }
</div>
-->
<section id="search-container">
<div>
  <div class="input-wrapper">
    <input
      type="text"
      placeholder="Type something..."
      autocomplete="off"
      name="search"
      [(ngModel)]="searchData"
      (input)="searchProjects()"
    />
    <button
      type="button"
      class="clear-btn"
      aria-label="Clear input"
      [class.show-button]="searchData.length > 0"
      (click)="clearSearch()"
    >
      <mat-icon>close</mat-icon>
    </button>
  </div>
  <div>
    <button id="filter-btn" [class.filter-btn-active]="showFilter" (click)="toggleFilter()">Filter<mat-icon [class.filter-btn-icon-active]="showFilter">keyboard_arrow_down</mat-icon></button>
  </div>
</div>
  @if (showFilter) {
    <div id="filter-form">
      this is filter
    </div>
  }
</section>


<!--
<mat-form-field class="search-form">
  <input
    type="text"
    matInput
    placeholder="Search..."
    name="search"
    [(ngModel)]="searchData"
    (input)="searchProjects()"
  />
  @if (searchData) {
  <button matSuffix matIconButton aria-label="Clear" (click)="clearSearch()">
    <mat-icon>close</mat-icon>
  </button>
  }
</mat-form-field>

-->

<!--
<div class="table-wrapper">
  <table>
    <thead>
      <tr class="table-head">
        @for (dc of displayedColumns; track $index) {
        <th>{{ dc }}</th>
        }
      </tr>
    </thead>
    <tbody>
      @for (p of projects; track $index) {
      <tr>
        <td>{{ $index }}</td>
        <td>
          <a [routerLink]="'/project/' + p.projectId" mat-button>{{ p.name }}</a>
        </td>
        <td>{{ p.creatorName }}</td>
        <td>{{ p.deadline | date }}</td>
      </tr>
      }
    </tbody>
  </table>
</div>

-->

<div class="table-wrapper">
  <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="index">
      <th mat-header-cell *matHeaderCellDef>No.</th>
      <td mat-cell *matCellDef="let row; let i = index">{{ i + 1 }}.</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">
        <a [routerLink]="'/project/' + element.id" mat-button>{{ element.name }}</a>
      </td>
    </ng-container>

    <ng-container matColumnDef="owner">
      <th mat-header-cell *matHeaderCellDef>Owner</th>
      <td mat-cell *matCellDef="let element">{{ element.creatorName }}</td>
    </ng-container>

    <ng-container matColumnDef="deadline">
      <th mat-header-cell *matHeaderCellDef>Deadline</th>
      <td mat-cell *matCellDef="let element">{{ element.deadline | date }}</td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
